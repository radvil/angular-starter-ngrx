(window.webpackJsonp=window.webpackJsonp||[]).push([[13],{w7GV:function(e,t,c){"use strict";c.r(t),c.d(t,"TablesModule",function(){return $e});var n=c("ofXK"),i=c("tyNb"),a=c("+0xr"),o=c("M9IT"),r=c("Dh3D"),s=c("Wp6s"),m=c("NFeN"),l=c("bTqV"),b=c("STbY"),h=c("8LU1"),d=c("fXoL"),u=c("3Pt+"),k=c("FKr1"),p=c("R1ws"),f=c("GU7r"),g=c("u47x");const x=["input"],C=function(){return{enterDuration:150}},_=["*"],T=new d.s("mat-checkbox-default-options",{providedIn:"root",factory:y});function y(){return{color:"accent",clickAction:"check-indeterminate"}}let O=0;const S=y(),v={provide:u.m,useExisting:Object(d.V)(()=>D),multi:!0};class M{}class U{constructor(e){this._elementRef=e}}const w=Object(k.A)(Object(k.v)(Object(k.w)(Object(k.x)(U))));let D=(()=>{class e extends w{constructor(e,t,c,n,i,a,o){super(e),this._changeDetectorRef=t,this._focusMonitor=c,this._ngZone=n,this._animationMode=a,this._options=o,this.ariaLabel="",this.ariaLabelledby=null,this._uniqueId="mat-checkbox-"+ ++O,this.id=this._uniqueId,this.labelPosition="after",this.name=null,this.change=new d.o,this.indeterminateChange=new d.o,this._onTouched=()=>{},this._currentAnimationClass="",this._currentCheckState=0,this._controlValueAccessorChangeFn=()=>{},this._checked=!1,this._disabled=!1,this._indeterminate=!1,this._options=this._options||S,this.color=this.defaultColor=this._options.color||S.color,this.tabIndex=parseInt(i)||0}get inputId(){return`${this.id||this._uniqueId}-input`}get required(){return this._required}set required(e){this._required=Object(h.c)(e)}ngAfterViewInit(){this._focusMonitor.monitor(this._elementRef,!0).subscribe(e=>{e||Promise.resolve().then(()=>{this._onTouched(),this._changeDetectorRef.markForCheck()})}),this._syncIndeterminate(this._indeterminate)}ngAfterViewChecked(){}ngOnDestroy(){this._focusMonitor.stopMonitoring(this._elementRef)}get checked(){return this._checked}set checked(e){e!=this.checked&&(this._checked=e,this._changeDetectorRef.markForCheck())}get disabled(){return this._disabled}set disabled(e){const t=Object(h.c)(e);t!==this.disabled&&(this._disabled=t,this._changeDetectorRef.markForCheck())}get indeterminate(){return this._indeterminate}set indeterminate(e){const t=e!=this._indeterminate;this._indeterminate=Object(h.c)(e),t&&(this._transitionCheckState(this._indeterminate?3:this.checked?1:2),this.indeterminateChange.emit(this._indeterminate)),this._syncIndeterminate(this._indeterminate)}_isRippleDisabled(){return this.disableRipple||this.disabled}_onLabelTextChange(){this._changeDetectorRef.detectChanges()}writeValue(e){this.checked=!!e}registerOnChange(e){this._controlValueAccessorChangeFn=e}registerOnTouched(e){this._onTouched=e}setDisabledState(e){this.disabled=e}_getAriaChecked(){return this.checked?"true":this.indeterminate?"mixed":"false"}_transitionCheckState(e){let t=this._currentCheckState,c=this._elementRef.nativeElement;if(t!==e&&(this._currentAnimationClass.length>0&&c.classList.remove(this._currentAnimationClass),this._currentAnimationClass=this._getAnimationClassForCheckStateTransition(t,e),this._currentCheckState=e,this._currentAnimationClass.length>0)){c.classList.add(this._currentAnimationClass);const e=this._currentAnimationClass;this._ngZone.runOutsideAngular(()=>{setTimeout(()=>{c.classList.remove(e)},1e3)})}}_emitChangeEvent(){const e=new M;e.source=this,e.checked=this.checked,this._controlValueAccessorChangeFn(this.checked),this.change.emit(e)}toggle(){this.checked=!this.checked}_onInputClick(e){var t;const c=null===(t=this._options)||void 0===t?void 0:t.clickAction;e.stopPropagation(),this.disabled||"noop"===c?this.disabled||"noop"!==c||(this._inputElement.nativeElement.checked=this.checked,this._inputElement.nativeElement.indeterminate=this.indeterminate):(this.indeterminate&&"check"!==c&&Promise.resolve().then(()=>{this._indeterminate=!1,this.indeterminateChange.emit(this._indeterminate)}),this.toggle(),this._transitionCheckState(this._checked?1:2),this._emitChangeEvent())}focus(e,t){e?this._focusMonitor.focusVia(this._inputElement,e,t):this._inputElement.nativeElement.focus(t)}_onInteractionEvent(e){e.stopPropagation()}_getAnimationClassForCheckStateTransition(e,t){if("NoopAnimations"===this._animationMode)return"";let c="";switch(e){case 0:if(1===t)c="unchecked-checked";else{if(3!=t)return"";c="unchecked-indeterminate"}break;case 2:c=1===t?"unchecked-checked":"unchecked-indeterminate";break;case 1:c=2===t?"checked-unchecked":"checked-indeterminate";break;case 3:c=1===t?"indeterminate-checked":"indeterminate-unchecked"}return`mat-checkbox-anim-${c}`}_syncIndeterminate(e){const t=this._inputElement;t&&(t.nativeElement.indeterminate=e)}}return e.\u0275fac=function(t){return new(t||e)(d.Ob(d.l),d.Ob(d.h),d.Ob(g.h),d.Ob(d.B),d.Zb("tabindex"),d.Ob(p.a,8),d.Ob(T,8))},e.\u0275cmp=d.Ib({type:e,selectors:[["mat-checkbox"]],viewQuery:function(e,t){if(1&e&&(d.Ec(x,1),d.Ec(k.q,1)),2&e){let e;d.qc(e=d.cc())&&(t._inputElement=e.first),d.qc(e=d.cc())&&(t.ripple=e.first)}},hostAttrs:[1,"mat-checkbox"],hostVars:12,hostBindings:function(e,t){2&e&&(d.Xb("id",t.id),d.Db("tabindex",null),d.Gb("mat-checkbox-indeterminate",t.indeterminate)("mat-checkbox-checked",t.checked)("mat-checkbox-disabled",t.disabled)("mat-checkbox-label-before","before"==t.labelPosition)("_mat-animation-noopable","NoopAnimations"===t._animationMode))},inputs:{disableRipple:"disableRipple",color:"color",tabIndex:"tabIndex",ariaLabel:["aria-label","ariaLabel"],ariaLabelledby:["aria-labelledby","ariaLabelledby"],id:"id",labelPosition:"labelPosition",name:"name",required:"required",checked:"checked",disabled:"disabled",indeterminate:"indeterminate",ariaDescribedby:["aria-describedby","ariaDescribedby"],value:"value"},outputs:{change:"change",indeterminateChange:"indeterminateChange"},exportAs:["matCheckbox"],features:[d.Bb([v]),d.zb],ngContentSelectors:_,decls:17,vars:20,consts:[[1,"mat-checkbox-layout"],["label",""],[1,"mat-checkbox-inner-container"],["type","checkbox",1,"mat-checkbox-input","cdk-visually-hidden",3,"id","required","checked","disabled","tabIndex","change","click"],["input",""],["matRipple","",1,"mat-checkbox-ripple","mat-focus-indicator",3,"matRippleTrigger","matRippleDisabled","matRippleRadius","matRippleCentered","matRippleAnimation"],[1,"mat-ripple-element","mat-checkbox-persistent-ripple"],[1,"mat-checkbox-frame"],[1,"mat-checkbox-background"],["version","1.1","focusable","false","viewBox","0 0 24 24",0,"xml","space","preserve",1,"mat-checkbox-checkmark"],["fill","none","stroke","white","d","M4.1,12.7 9,17.6 20.3,6.3",1,"mat-checkbox-checkmark-path"],[1,"mat-checkbox-mixedmark"],[1,"mat-checkbox-label",3,"cdkObserveContent"],["checkboxLabel",""],[2,"display","none"]],template:function(e,t){if(1&e&&(d.kc(),d.Ub(0,"label",0,1),d.Ub(2,"span",2),d.Ub(3,"input",3,4),d.bc("change",function(e){return t._onInteractionEvent(e)})("click",function(e){return t._onInputClick(e)}),d.Tb(),d.Ub(5,"span",5),d.Pb(6,"span",6),d.Tb(),d.Pb(7,"span",7),d.Ub(8,"span",8),d.ec(),d.Ub(9,"svg",9),d.Pb(10,"path",10),d.Tb(),d.dc(),d.Pb(11,"span",11),d.Tb(),d.Tb(),d.Ub(12,"span",12,13),d.bc("cdkObserveContent",function(){return t._onLabelTextChange()}),d.Ub(14,"span",14),d.Bc(15,"\xa0"),d.Tb(),d.jc(16),d.Tb(),d.Tb()),2&e){const e=d.rc(1),c=d.rc(13);d.Db("for",t.inputId),d.Cb(2),d.Gb("mat-checkbox-inner-container-no-side-margin",!c.textContent||!c.textContent.trim()),d.Cb(1),d.lc("id",t.inputId)("required",t.required)("checked",t.checked)("disabled",t.disabled)("tabIndex",t.tabIndex),d.Db("value",t.value)("name",t.name)("aria-label",t.ariaLabel||null)("aria-labelledby",t.ariaLabelledby)("aria-checked",t._getAriaChecked())("aria-describedby",t.ariaDescribedby),d.Cb(2),d.lc("matRippleTrigger",e)("matRippleDisabled",t._isRippleDisabled())("matRippleRadius",20)("matRippleCentered",!0)("matRippleAnimation",d.mc(19,C))}},directives:[k.q,f.a],styles:["@keyframes mat-checkbox-fade-in-background{0%{opacity:0}50%{opacity:1}}@keyframes mat-checkbox-fade-out-background{0%,50%{opacity:1}100%{opacity:0}}@keyframes mat-checkbox-unchecked-checked-checkmark-path{0%,50%{stroke-dashoffset:22.910259}50%{animation-timing-function:cubic-bezier(0, 0, 0.2, 0.1)}100%{stroke-dashoffset:0}}@keyframes mat-checkbox-unchecked-indeterminate-mixedmark{0%,68.2%{transform:scaleX(0)}68.2%{animation-timing-function:cubic-bezier(0, 0, 0, 1)}100%{transform:scaleX(1)}}@keyframes mat-checkbox-checked-unchecked-checkmark-path{from{animation-timing-function:cubic-bezier(0.4, 0, 1, 1);stroke-dashoffset:0}to{stroke-dashoffset:-22.910259}}@keyframes mat-checkbox-checked-indeterminate-checkmark{from{animation-timing-function:cubic-bezier(0, 0, 0.2, 0.1);opacity:1;transform:rotate(0deg)}to{opacity:0;transform:rotate(45deg)}}@keyframes mat-checkbox-indeterminate-checked-checkmark{from{animation-timing-function:cubic-bezier(0.14, 0, 0, 1);opacity:0;transform:rotate(45deg)}to{opacity:1;transform:rotate(360deg)}}@keyframes mat-checkbox-checked-indeterminate-mixedmark{from{animation-timing-function:cubic-bezier(0, 0, 0.2, 0.1);opacity:0;transform:rotate(-45deg)}to{opacity:1;transform:rotate(0deg)}}@keyframes mat-checkbox-indeterminate-checked-mixedmark{from{animation-timing-function:cubic-bezier(0.14, 0, 0, 1);opacity:1;transform:rotate(0deg)}to{opacity:0;transform:rotate(315deg)}}@keyframes mat-checkbox-indeterminate-unchecked-mixedmark{0%{animation-timing-function:linear;opacity:1;transform:scaleX(1)}32.8%,100%{opacity:0;transform:scaleX(0)}}.mat-checkbox-background,.mat-checkbox-frame{top:0;left:0;right:0;bottom:0;position:absolute;border-radius:2px;box-sizing:border-box;pointer-events:none}.mat-checkbox{display:inline-block;transition:background 400ms cubic-bezier(0.25, 0.8, 0.25, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);cursor:pointer;-webkit-tap-highlight-color:transparent}._mat-animation-noopable.mat-checkbox{transition:none;animation:none}.mat-checkbox .mat-ripple-element:not(.mat-checkbox-persistent-ripple){opacity:.16}.mat-checkbox-layout{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;cursor:inherit;align-items:baseline;vertical-align:middle;display:inline-flex;white-space:nowrap}.mat-checkbox-label{-webkit-user-select:auto;-moz-user-select:auto;-ms-user-select:auto;user-select:auto}.mat-checkbox-inner-container{display:inline-block;height:16px;line-height:0;margin:auto;margin-right:8px;order:0;position:relative;vertical-align:middle;white-space:nowrap;width:16px;flex-shrink:0}[dir=rtl] .mat-checkbox-inner-container{margin-left:8px;margin-right:auto}.mat-checkbox-inner-container-no-side-margin{margin-left:0;margin-right:0}.mat-checkbox-frame{background-color:transparent;transition:border-color 90ms cubic-bezier(0, 0, 0.2, 0.1);border-width:2px;border-style:solid}._mat-animation-noopable .mat-checkbox-frame{transition:none}.cdk-high-contrast-active .mat-checkbox.cdk-keyboard-focused .mat-checkbox-frame{border-style:dotted}.mat-checkbox-background{align-items:center;display:inline-flex;justify-content:center;transition:background-color 90ms cubic-bezier(0, 0, 0.2, 0.1),opacity 90ms cubic-bezier(0, 0, 0.2, 0.1)}._mat-animation-noopable .mat-checkbox-background{transition:none}.cdk-high-contrast-active .mat-checkbox .mat-checkbox-background{background:none}.mat-checkbox-persistent-ripple{display:block;width:100%;height:100%;transform:none}.mat-checkbox-inner-container:hover .mat-checkbox-persistent-ripple{opacity:.04}.mat-checkbox.cdk-keyboard-focused .mat-checkbox-persistent-ripple{opacity:.12}.mat-checkbox-persistent-ripple,.mat-checkbox.mat-checkbox-disabled .mat-checkbox-inner-container:hover .mat-checkbox-persistent-ripple{opacity:0}@media(hover: none){.mat-checkbox-inner-container:hover .mat-checkbox-persistent-ripple{display:none}}.mat-checkbox-checkmark{top:0;left:0;right:0;bottom:0;position:absolute;width:100%}.mat-checkbox-checkmark-path{stroke-dashoffset:22.910259;stroke-dasharray:22.910259;stroke-width:2.1333333333px}.cdk-high-contrast-black-on-white .mat-checkbox-checkmark-path{stroke:#000 !important}.mat-checkbox-mixedmark{width:calc(100% - 6px);height:2px;opacity:0;transform:scaleX(0) rotate(0deg);border-radius:2px}.cdk-high-contrast-active .mat-checkbox-mixedmark{height:0;border-top:solid 2px;margin-top:2px}.mat-checkbox-label-before .mat-checkbox-inner-container{order:1;margin-left:8px;margin-right:auto}[dir=rtl] .mat-checkbox-label-before .mat-checkbox-inner-container{margin-left:auto;margin-right:8px}.mat-checkbox-checked .mat-checkbox-checkmark{opacity:1}.mat-checkbox-checked .mat-checkbox-checkmark-path{stroke-dashoffset:0}.mat-checkbox-checked .mat-checkbox-mixedmark{transform:scaleX(1) rotate(-45deg)}.mat-checkbox-indeterminate .mat-checkbox-checkmark{opacity:0;transform:rotate(45deg)}.mat-checkbox-indeterminate .mat-checkbox-checkmark-path{stroke-dashoffset:0}.mat-checkbox-indeterminate .mat-checkbox-mixedmark{opacity:1;transform:scaleX(1) rotate(0deg)}.mat-checkbox-unchecked .mat-checkbox-background{background-color:transparent}.mat-checkbox-disabled{cursor:default}.cdk-high-contrast-active .mat-checkbox-disabled{opacity:.5}.mat-checkbox-anim-unchecked-checked .mat-checkbox-background{animation:180ms linear 0ms mat-checkbox-fade-in-background}.mat-checkbox-anim-unchecked-checked .mat-checkbox-checkmark-path{animation:180ms linear 0ms mat-checkbox-unchecked-checked-checkmark-path}.mat-checkbox-anim-unchecked-indeterminate .mat-checkbox-background{animation:180ms linear 0ms mat-checkbox-fade-in-background}.mat-checkbox-anim-unchecked-indeterminate .mat-checkbox-mixedmark{animation:90ms linear 0ms mat-checkbox-unchecked-indeterminate-mixedmark}.mat-checkbox-anim-checked-unchecked .mat-checkbox-background{animation:180ms linear 0ms mat-checkbox-fade-out-background}.mat-checkbox-anim-checked-unchecked .mat-checkbox-checkmark-path{animation:90ms linear 0ms mat-checkbox-checked-unchecked-checkmark-path}.mat-checkbox-anim-checked-indeterminate .mat-checkbox-checkmark{animation:90ms linear 0ms mat-checkbox-checked-indeterminate-checkmark}.mat-checkbox-anim-checked-indeterminate .mat-checkbox-mixedmark{animation:90ms linear 0ms mat-checkbox-checked-indeterminate-mixedmark}.mat-checkbox-anim-indeterminate-checked .mat-checkbox-checkmark{animation:500ms linear 0ms mat-checkbox-indeterminate-checked-checkmark}.mat-checkbox-anim-indeterminate-checked .mat-checkbox-mixedmark{animation:500ms linear 0ms mat-checkbox-indeterminate-checked-mixedmark}.mat-checkbox-anim-indeterminate-unchecked .mat-checkbox-background{animation:180ms linear 0ms mat-checkbox-fade-out-background}.mat-checkbox-anim-indeterminate-unchecked .mat-checkbox-mixedmark{animation:300ms linear 0ms mat-checkbox-indeterminate-unchecked-mixedmark}.mat-checkbox-input{bottom:0;left:50%}.mat-checkbox .mat-checkbox-ripple{position:absolute;left:calc(50% - 20px);top:calc(50% - 20px);height:40px;width:40px;z-index:1;pointer-events:none}\n"],encapsulation:2,changeDetection:0}),e})(),P=(()=>{class e{}return e.\u0275mod=d.Mb({type:e}),e.\u0275inj=d.Lb({factory:function(t){return new(t||e)}}),e})(),z=(()=>{class e{}return e.\u0275mod=d.Mb({type:e}),e.\u0275inj=d.Lb({factory:function(t){return new(t||e)},imports:[[k.r,k.i,f.c,P],k.i,P]}),e})();var R=c("Qu3c"),B=c("0IaG"),A=c("dNgK"),E=c("0EQZ"),$=c("XNiG"),j=c("xgIS"),I=c("vkgz"),L=c("1G5W"),F=c("pLZG"),N=c("Kj3r"),V=c("/uUt"),q=c("qyIo"),X=c("ddfU"),H=c("AW1s");function G(e,t){if(1&e){const e=d.Vb();d.Sb(0),d.Ub(1,"div",34),d.Ub(2,"strong"),d.Bc(3),d.Tb(),d.Tb(),d.Ub(4,"button",35),d.bc("click",function(){return d.tc(e),d.fc().undoSelection()}),d.Ub(5,"mat-icon"),d.Bc(6,"undo"),d.Tb(),d.Tb(),d.Pb(7,"div",36),d.Ub(8,"div",37),d.Ub(9,"button",38),d.bc("click",function(){return d.tc(e),d.fc().deleteSelections()}),d.Ub(10,"mat-icon"),d.Bc(11,"delete"),d.Tb(),d.Tb(),d.Tb(),d.Rb()}if(2&e){const e=d.fc();d.Cb(3),d.Cc(e.selectionsLength+" selected")}}function Z(e,t){if(1&e&&(d.Ub(0,"strong"),d.Bc(1),d.Tb()),2&e){const e=d.fc(2);d.Cb(1),d.Cc(e.searchResultText)}}function W(e,t){if(1&e){const e=d.Vb();d.Sb(0),d.Ub(1,"button",39),d.bc("click",function(){d.tc(e);const t=d.fc();return t.headerMode="DEFAULT",t.customerSelections.clear()}),d.Ub(2,"mat-icon"),d.Bc(3,"arrow_back"),d.Tb(),d.Tb(),d.Ub(4,"div",40),d.Ub(5,"mat-icon"),d.Bc(6,"search"),d.Tb(),d.Ub(7,"input",41),d.bc("keyup",function(t){return d.tc(e),d.fc().search(t)}),d.Tb(),d.Tb(),d.Pb(8,"span",36),d.zc(9,Z,2,1,"strong",42),d.Rb()}if(2&e){const e=d.fc();d.Cb(9),d.lc("ngIf",!e.isHandset)}}function K(e,t){if(1&e){const e=d.Vb();d.Ub(0,"div",48),d.Ub(1,"mat-checkbox",49),d.bc("click",function(e){return e.stopPropagation()})("change",function(c){d.tc(e);const n=t.index,i=d.fc(3);return c?i.toggleColumnVisibility(n):null}),d.Tb(),d.Ub(2,"span",50),d.Bc(3),d.Tb(),d.Tb()}if(2&e){const e=t.$implicit;d.Cb(1),d.lc("checked",e.show),d.Cb(2),d.Cc(e.columnName)}}function Q(e,t){if(1&e&&d.zc(0,K,4,2,"div",47),2&e){const e=d.fc(2);d.lc("ngForOf",e.columnOptions)}}function J(e,t){if(1&e){const e=d.Vb();d.Sb(0),d.Ub(1,"div",34),d.Ub(2,"strong"),d.Bc(3,"Customers"),d.Tb(),d.Tb(),d.Pb(4,"div",36),d.Ub(5,"div",43),d.Ub(6,"button",44),d.bc("click",function(){return d.tc(e),d.fc().headerMode="SEARCH"}),d.Ub(7,"mat-icon"),d.Bc(8,"search"),d.Tb(),d.Tb(),d.Ub(9,"button",44),d.bc("click",function(){return d.tc(e),d.fc().openCustomerForm("NEW")}),d.Ub(10,"mat-icon"),d.Bc(11,"person_add_alt"),d.Tb(),d.Tb(),d.Ub(12,"button",45),d.Ub(13,"mat-icon"),d.Bc(14,"more_vert"),d.Tb(),d.Tb(),d.Ub(15,"mat-menu",null,46),d.zc(17,Q,1,1,"ng-template",33),d.Tb(),d.Tb(),d.Rb()}if(2&e){const e=d.rc(16);d.Cb(12),d.lc("matMenuTriggerFor",e)}}function Y(e,t){if(1&e){const e=d.Vb();d.Ub(0,"th",51),d.Ub(1,"mat-checkbox",52),d.bc("click",function(e){return e.stopPropagation()})("change",function(t){d.tc(e);const c=d.fc();return t?c.toggleAndSwitchMode():null}),d.Tb(),d.Tb()}if(2&e){const e=d.fc();d.Cb(1),d.lc("checked",e.customerSelections.hasValue()&&e.isAllSelected)("indeterminate",e.customerSelections.hasValue()&&!e.isAllSelected)}}function ee(e,t){if(1&e){const e=d.Vb();d.Ub(0,"td",53),d.Ub(1,"mat-checkbox",49),d.bc("click",function(e){return e.stopPropagation()})("change",function(c){d.tc(e);const n=t.$implicit,i=d.fc();return c?i.toggleAndSwitchMode(n):null}),d.Tb(),d.Tb()}if(2&e){const e=t.$implicit,c=d.fc();d.Cb(1),d.lc("checked",c.customerSelections.isSelected(e))}}function te(e,t){1&e&&d.Pb(0,"th",51)}function ce(e,t){if(1&e&&(d.Ub(0,"td",54),d.Pb(1,"img",55),d.Tb()),2&e){const e=t.$implicit;d.Cb(1),d.lc("src",e.photo,d.uc)("alt",e.name)}}function ne(e,t){1&e&&(d.Ub(0,"th",56),d.Bc(1,"Name"),d.Tb())}function ie(e,t){if(1&e&&(d.Ub(0,"td",57),d.Bc(1),d.Tb()),2&e){const e=t.$implicit,c=d.fc();d.Cb(1),d.Cc(c.getCustomerFullname(e))}}function ae(e,t){1&e&&(d.Ub(0,"th",56),d.Bc(1,"First name"),d.Tb())}function oe(e,t){if(1&e&&(d.Ub(0,"td",58),d.Bc(1),d.Tb()),2&e){const e=t.$implicit;d.Cb(1),d.Dc(" ",e.firstName," ")}}function re(e,t){1&e&&(d.Ub(0,"th",56),d.Bc(1,"Last name"),d.Tb())}function se(e,t){if(1&e&&(d.Ub(0,"td",59),d.Bc(1),d.Tb()),2&e){const e=t.$implicit;d.Cb(1),d.Dc(" ",e.lastName," ")}}function me(e,t){1&e&&(d.Ub(0,"th",51),d.Bc(1,"Address"),d.Tb())}function le(e,t){if(1&e&&(d.Ub(0,"td",60),d.Bc(1),d.Tb()),2&e){const e=t.$implicit,c=d.fc();d.Cb(1),d.Cc(c.getCustomerAddress(e))}}function be(e,t){1&e&&(d.Ub(0,"th",56),d.Bc(1,"Street"),d.Tb())}function he(e,t){if(1&e&&(d.Ub(0,"td",60),d.Bc(1),d.Tb()),2&e){const e=t.$implicit;d.Cb(1),d.Cc(null==e.address?null:e.address.street)}}function de(e,t){1&e&&(d.Ub(0,"th",56),d.Bc(1,"ZipCode"),d.Tb())}function ue(e,t){if(1&e&&(d.Ub(0,"td",60),d.Bc(1),d.Tb()),2&e){const e=t.$implicit;d.Cb(1),d.Cc(null==e.address?null:e.address.zipCode)}}function ke(e,t){1&e&&(d.Ub(0,"th",56),d.Bc(1,"City"),d.Tb())}function pe(e,t){if(1&e&&(d.Ub(0,"td",60),d.Bc(1),d.Tb()),2&e){const e=t.$implicit;d.Cb(1),d.Cc(null==e.address?null:e.address.city)}}function fe(e,t){1&e&&(d.Ub(0,"th",56),d.Bc(1,"Email address"),d.Tb())}function ge(e,t){if(1&e&&(d.Ub(0,"td",60),d.Bc(1),d.Tb()),2&e){const e=t.$implicit;d.Cb(1),d.Cc(null==e.contact?null:e.contact.email)}}function xe(e,t){1&e&&(d.Ub(0,"th",51),d.Bc(1,"Phone Number"),d.Tb())}function Ce(e,t){if(1&e&&(d.Ub(0,"td",60),d.Bc(1),d.Tb()),2&e){const e=t.$implicit;d.Cb(1),d.Cc(null==e.contact?null:e.contact.phone)}}function _e(e,t){1&e&&(d.Ub(0,"th",51),d.Bc(1,"Labels"),d.Tb())}const Te=function(e,t,c,n){return{dark:e,yellow:t,blue:c,green:n}};function ye(e,t){if(1&e&&(d.Sb(0),d.Ub(1,"span",64),d.Bc(2),d.Tb(),d.Bc(3,"\xa0 "),d.Rb()),2&e){const e=t.$implicit;d.Cb(1),d.lc("ngClass",d.pc(2,Te,"Lead"===e,"In Progress"===e,"New"===e,"Completed"===e)),d.Cb(1),d.Cc(e)}}function Oe(e,t){if(1&e){const e=d.Vb();d.Ub(0,"div",48),d.Ub(1,"mat-checkbox",49),d.bc("click",function(e){return e.stopPropagation()})("change",function(c){d.tc(e);const n=t.$implicit,i=d.fc(2).$implicit,a=d.fc();return c?a.updateCustomerLabel(i.id,n):null}),d.Tb(),d.Ub(2,"span",50),d.Bc(3),d.Tb(),d.Tb()}if(2&e){const e=t.$implicit,c=d.fc(2).$implicit,n=d.fc();d.Cb(1),d.lc("checked",n.hasLabel(c,e)),d.Cb(2),d.Cc(e)}}function Se(e,t){if(1&e&&d.zc(0,Oe,4,2,"div",65),2&e){const e=d.fc(2);d.lc("ngForOf",e.labelOptions)}}function ve(e,t){if(1&e&&(d.Ub(0,"td",60),d.zc(1,ye,4,7,"ng-container",61),d.Ub(2,"button",62),d.Ub(3,"mat-icon"),d.Bc(4,"add"),d.Tb(),d.Tb(),d.Ub(5,"mat-menu",null,63),d.zc(7,Se,1,1,"ng-template",33),d.Tb(),d.Tb()),2&e){const e=t.$implicit,c=d.rc(6);d.Cb(1),d.lc("ngForOf",e.labels),d.Cb(1),d.lc("matMenuTriggerFor",c)}}function Me(e,t){1&e&&(d.Ub(0,"th",56),d.Bc(1,"Join Date"),d.Tb())}function Ue(e,t){if(1&e&&(d.Ub(0,"td",66),d.Bc(1),d.gc(2,"date"),d.Tb()),2&e){const e=t.$implicit;d.Cb(1),d.Dc(" ",d.hc(2,1,e.createdAt)," ")}}function we(e,t){1&e&&d.Pb(0,"th",51)}function De(e,t){if(1&e){const e=d.Vb();d.Ub(0,"button",69),d.bc("click",function(){d.tc(e);const t=d.fc().$implicit;return d.fc().openCustomerForm("EDIT",t)}),d.Ub(1,"mat-icon"),d.Bc(2,"edit"),d.Tb(),d.Ub(3,"span"),d.Bc(4,"Edit"),d.Tb(),d.Tb(),d.Ub(5,"button",69),d.bc("click",function(){d.tc(e);const t=d.fc().$implicit;return d.fc().deleteSelections(t.id)}),d.Ub(6,"mat-icon",70),d.Bc(7,"delete"),d.Tb(),d.Ub(8,"span"),d.Bc(9,"Delete"),d.Tb(),d.Tb()}}function Pe(e,t){if(1&e&&(d.Ub(0,"td",60),d.Ub(1,"button",67),d.Ub(2,"mat-icon"),d.Bc(3,"more_vert"),d.Tb(),d.Tb(),d.Ub(4,"mat-menu",null,68),d.zc(6,De,10,0,"ng-template",33),d.Tb(),d.Tb()),2&e){const e=d.rc(5);d.Cb(1),d.lc("matMenuTriggerFor",e)}}function ze(e,t){1&e&&d.Pb(0,"tr",71)}function Re(e,t){if(1&e){const e=d.Vb();d.Ub(0,"tr",72),d.bc("contextmenu",function(c){d.tc(e);const n=t.$implicit;return d.fc().onContextMenu(c,n)}),d.Tb()}}function Be(e,t){if(1&e){const e=d.Vb();d.Ub(0,"button",69),d.bc("click",function(){d.tc(e);const c=t.item;return d.fc().toggleAndSwitchMode(c)}),d.Ub(1,"mat-icon",73),d.Bc(2),d.Tb(),d.Bc(3),d.Tb(),d.Ub(4,"button",69),d.bc("click",function(){d.tc(e);const c=t.item;return d.fc().openCustomerForm("EDIT",c)}),d.Ub(5,"mat-icon"),d.Bc(6,"edit"),d.Tb(),d.Bc(7," Edit "),d.Tb(),d.Ub(8,"button",69),d.bc("click",function(){d.tc(e);const c=t.item;return d.fc().deleteSelections(c.id)}),d.Ub(9,"mat-icon",70),d.Bc(10,"delete"),d.Tb(),d.Bc(11," Delete "),d.Tb()}if(2&e){const e=t.item,c=d.fc();d.Cb(1),d.lc("color",c.customerSelections.isSelected(e)&&"accent"),d.Cb(1),d.Dc(" ",c.customerSelections.isSelected(e)?"close":"checked"," "),d.Cb(1),d.Dc(" ",c.customerSelections.isSelected(e)?"Deselect":"Select"," ")}}const Ae=function(){return[10,50,100]};let Ee=(()=>{class e{constructor(e,t,c,n){this._customerService=e,this._dialog=t,this._bpService=c,this._notification=n,this._destroy$=new $.a,this.customerSelections=new E.c(!0,[]),this.totalResults=0,this.contextMenuPosition={x:"0px",y:"0px"}}ngOnInit(){this._customerService.getLabelOptions().pipe(Object(I.a)(e=>{this.labelOptions=e}),Object(L.a)(this._destroy$)).subscribe(),this._customerService.getColumnOptions().pipe(Object(I.a)(e=>{this.columnOptions=e,this.visibleColumns=this.columnOptions.filter(e=>!!e.show).map(e=>e.columnName)}),Object(L.a)(this._destroy$)).subscribe(),this._customerService.getCustomers().pipe(Object(I.a)(e=>{this.customersDataSource=new a.k(e),this.customersDataSource.paginator=this.paginator,this.customersDataSource.sort=this.sort}),Object(L.a)(this._destroy$)).subscribe()}ngAfterViewInit(){this.selectionsLength&&(this.headerMode="SELECT"),this._bpService.isHandset().pipe(Object(L.a)(this._destroy$)).subscribe(e=>this.isHandset=e)}ngOnDestroy(){this._destroy$.next(),this._destroy$.complete()}toggleColumnVisibility(e){this._customerService.toggleColumn(e)}get selectionsLength(){return this.customerSelections.selected.length}get searchResultText(){return this.totalResults?`${this.totalResults} matched results`:"\ud83c\udfb5 \ud83c\udfb5"}get isAllSelected(){return this.selectionsLength===this.customersDataSource.data.length}toggleAndSwitchMode(e){var t;if(!~this.visibleColumns.indexOf("selections")){const e=this.columnOptions.findIndex(e=>"selections"===e.columnName);this.toggleColumnVisibility(e)}e&&"id"in e?this.customerSelections.toggle(e):this.isAllSelected?this.customerSelections.clear():null===(t=this.customersDataSource.data)||void 0===t||t.forEach(e=>this.customerSelections.select(e)),this.headerMode="SELECT"}undoSelection(){if(this.headerMode="DEFAULT",~this.visibleColumns.indexOf("selections")){const e=this.columnOptions.findIndex(e=>"selections"===e.columnName);this.toggleColumnVisibility(e)}this.customerSelections.selected.length&&this.customerSelections.clear(),this.customersDataSource.filter&&(this.customersDataSource.filter="",this.totalResults=0)}deleteSelections(e){var t;const c=null===(t=this.customerSelections.selected)||void 0===t?void 0:t.map(e=>e.id);this._dialog.open(q.a,{data:{message:`Delete selected ${c.length>1?"customers":"customer"} ?`},width:"300px"}).beforeClosed().pipe(Object(F.a)(e=>e),Object(I.a)(()=>{e?this._customerService.deleteCustomer(e):c.length&&(this._customerService.deleteMultiCustomers(c),this.customerSelections.clear())}),Object(L.a)(this._destroy$)).subscribe()}search(e){const t=e.target;Object(j.a)(t,"keyup").pipe(Object(F.a)(()=>"SEARCH"===this.headerMode),Object(N.a)(500),Object(V.a)(),Object(I.a)(()=>{this.customersDataSource.filter=t.value.trim().toLowerCase(),this.totalResults=t.value?this.customersDataSource.filteredData.length:0}),Object(L.a)(this._destroy$)).subscribe()}getCustomerFullname(e){return`${e.firstName} ${e.lastName}`}getCustomerAddress(e){const{city:t,street:c,zipCode:n}=e.address;return`${c}, ${n} ${t}`}hasLabel(e,t){var c;return null===(c=e.labels)||void 0===c?void 0:c.includes(t)}getContextMenuSelectText(e){console.log(this.customerSelections.isSelected(e))}updateCustomerLabel(e,t){this._customerService.updateCustomerLabel(e,t)}openCustomerForm(e,t){this._dialog.open(q.c,{data:{customer:"EDIT"===e||t?t:null,mode:e},panelClass:["rad-dialog-overlay"]}).beforeClosed().pipe(Object(F.a)(e=>!!e),Object(I.a)(c=>{"NEW"===e?this._customerService.addCustomer(c):"EDIT"===e&&t&&(c=Object.assign(Object.assign({},t),c),this._customerService.updateCustomer(c))}),Object(L.a)(this._destroy$)).subscribe(()=>{this._notification.success("Yooo")})}onContextMenu(e,t){e.preventDefault(),this.contextMenuPosition.x=e.clientX+"px",this.contextMenuPosition.y=e.clientY+"px",this.contextMenu.menuData={item:t},this.contextMenu.menu.focusFirstItem("mouse"),this.contextMenu.openMenu()}}return e.\u0275fac=function(t){return new(t||e)(d.Ob(X.b),d.Ob(B.b),d.Ob(H.a),d.Ob(H.c))},e.\u0275cmp=d.Ib({type:e,selectors:[["app-tables"]],viewQuery:function(e,t){if(1&e&&(d.Ec(r.a,3),d.Ec(o.a,3),d.Ec(b.e,3)),2&e){let e;d.qc(e=d.cc())&&(t.sort=e.first),d.qc(e=d.cc())&&(t.paginator=e.first),d.qc(e=d.cc())&&(t.contextMenu=e.first)}},features:[d.Bb([X.b])],decls:55,vars:13,consts:[[1,"table-card","mat-elevation-z4"],[1,"table-header",3,"ngSwitch"],[4,"ngSwitchCase"],[4,"ngSwitchDefault"],["mat-table","","matSort","",1,"full-width","tr-4","td-p-1",3,"dataSource"],["matColumnDef","selections"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-cell","","class","checkBox",4,"matCellDef"],["matColumnDef","photo"],["mat-cell","","class","photo",4,"matCellDef"],["matColumnDef","name"],["mat-header-cell","","mat-sort-header","",4,"matHeaderCellDef"],["mat-cell","","class","name",4,"matCellDef"],["matColumnDef","firstName"],["mat-cell","","class","firstName",4,"matCellDef"],["matColumnDef","lastName"],["mat-cell","","class","lastName",4,"matCellDef"],["matColumnDef","address"],["mat-cell","",4,"matCellDef"],["matColumnDef","street"],["matColumnDef","zipCode"],["matColumnDef","city"],["matColumnDef","email"],["matColumnDef","contact"],["matColumnDef","labels"],["matColumnDef","createdAt"],["mat-cell","","class","createdAt",4,"matCellDef"],["matColumnDef","action"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",3,"contextmenu",4,"matRowDef","matRowDefColumns"],[3,"pageSizeOptions"],[2,"visibility","hidden","position","fixed",3,"matMenuTriggerFor"],["contextMenu","matMenu"],["matMenuContent",""],[1,"header-text"],["mat-icon-button","","matTooltip","Undo selections",3,"click"],[1,"fx-spacer"],[1,"header-action"],["matTooltip","Delete selections","mat-icon-button","","color","warn",3,"click"],["mat-icon-button","",1,"back",3,"click"],[1,"input-filter"],["type","text","placeholder","Search..","autofocus","",3,"keyup"],[4,"ngIf"],[1,"header-actions"],["mat-icon-button","",3,"click"],["mat-icon-button","","aria-label","customer menu",3,"matMenuTriggerFor"],["tableMenu","matMenu"],["mat-menu-item","","class","checkbox-options",4,"ngFor","ngForOf"],["mat-menu-item","",1,"checkbox-options"],[3,"checked","click","change"],[1,"label"],["mat-header-cell",""],[3,"checked","indeterminate","click","change"],["mat-cell","",1,"checkBox"],["mat-cell","",1,"photo"],["width","40",3,"src","alt"],["mat-header-cell","","mat-sort-header",""],["mat-cell","",1,"name"],["mat-cell","",1,"firstName"],["mat-cell","",1,"lastName"],["mat-cell",""],[4,"ngFor","ngForOf"],["mat-icon-button","",3,"matMenuTriggerFor"],["labelMenu","matMenu"],[1,"badge",3,"ngClass"],["class","checkbox-options","mat-menu-item","",4,"ngFor","ngForOf"],["mat-cell","",1,"createdAt"],["mat-icon-button","","aria-label","Action menu",3,"matMenuTriggerFor"],["actionMenu","matMenu"],["mat-menu-item","",3,"click"],["color","warn"],["mat-header-row",""],["mat-row","",3,"contextmenu"],[3,"color"]],template:function(e,t){if(1&e&&(d.Ub(0,"mat-card",0),d.Ub(1,"div",1),d.zc(2,G,12,1,"ng-container",2),d.zc(3,W,10,1,"ng-container",2),d.zc(4,J,18,1,"ng-container",3),d.Tb(),d.Ub(5,"table",4),d.Sb(6,5),d.zc(7,Y,2,2,"th",6),d.zc(8,ee,2,1,"td",7),d.Rb(),d.Sb(9,8),d.zc(10,te,1,0,"th",6),d.zc(11,ce,2,2,"td",9),d.Rb(),d.Sb(12,10),d.zc(13,ne,2,0,"th",11),d.zc(14,ie,2,1,"td",12),d.Rb(),d.Sb(15,13),d.zc(16,ae,2,0,"th",11),d.zc(17,oe,2,1,"td",14),d.Rb(),d.Sb(18,15),d.zc(19,re,2,0,"th",11),d.zc(20,se,2,1,"td",16),d.Rb(),d.Sb(21,17),d.zc(22,me,2,0,"th",6),d.zc(23,le,2,1,"td",18),d.Rb(),d.Sb(24,19),d.zc(25,be,2,0,"th",11),d.zc(26,he,2,1,"td",18),d.Rb(),d.Sb(27,20),d.zc(28,de,2,0,"th",11),d.zc(29,ue,2,1,"td",18),d.Rb(),d.Sb(30,21),d.zc(31,ke,2,0,"th",11),d.zc(32,pe,2,1,"td",18),d.Rb(),d.Sb(33,22),d.zc(34,fe,2,0,"th",11),d.zc(35,ge,2,1,"td",18),d.Rb(),d.Sb(36,23),d.zc(37,xe,2,0,"th",6),d.zc(38,Ce,2,1,"td",18),d.Rb(),d.Sb(39,24),d.zc(40,_e,2,0,"th",6),d.zc(41,ve,8,2,"td",18),d.Rb(),d.Sb(42,25),d.zc(43,Me,2,0,"th",11),d.zc(44,Ue,3,3,"td",26),d.Rb(),d.Sb(45,27),d.zc(46,we,1,0,"th",6),d.zc(47,Pe,7,1,"td",18),d.Rb(),d.zc(48,ze,1,0,"tr",28),d.zc(49,Re,1,0,"tr",29),d.Tb(),d.Pb(50,"mat-paginator",30),d.Tb(),d.Pb(51,"div",31),d.Ub(52,"mat-menu",null,32),d.zc(54,Be,12,3,"ng-template",33),d.Tb()),2&e){const e=d.rc(53);d.Cb(1),d.lc("ngSwitch",t.headerMode),d.Cb(1),d.lc("ngSwitchCase","SELECT"),d.Cb(1),d.lc("ngSwitchCase","SEARCH"),d.Cb(2),d.lc("dataSource",t.customersDataSource),d.Cb(43),d.lc("matHeaderRowDef",t.visibleColumns),d.Cb(1),d.lc("matRowDefColumns",t.visibleColumns),d.Cb(1),d.lc("pageSizeOptions",d.mc(12,Ae)),d.Cb(1),d.wc("left",t.contextMenuPosition.x)("top",t.contextMenuPosition.y),d.lc("matMenuTriggerFor",e)}},directives:[s.a,n.n,n.o,n.p,a.j,r.a,a.c,a.e,a.b,a.g,a.i,o.a,b.e,b.a,b.b,l.a,R.a,m.a,n.l,n.k,b.c,D,a.d,a.a,r.b,n.j,a.f,a.h],pipes:[n.e],styles:[".fx-spacer[_ngcontent-%COMP%]{flex:1 0 auto}button.back[_ngcontent-%COMP%]{margin-right:1rem}.table-card[_ngcontent-%COMP%]{width:auto;overflow-x:scroll;padding:0;border:1px solid hsla(0,0%,45.9%,.30980392156862746)}.table-card[_ngcontent-%COMP%]   .table-header[_ngcontent-%COMP%]{background-color:rgba(0,0,0,.1);position:sticky;top:0;left:0;right:0;padding:0 1rem;height:66px;display:flex;align-items:center}.table-card[_ngcontent-%COMP%]   .table-header[_ngcontent-%COMP%]   .header-text[_ngcontent-%COMP%]{font-weight:700;font-size:1.2rem;margin-right:1rem}.header-actions[_ngcontent-%COMP%]{display:flex}.header-actions[_ngcontent-%COMP%] > *[_ngcontent-%COMP%]{margin-right:.5rem}.header-actions[_ngcontent-%COMP%] > [_ngcontent-%COMP%]:last-child{margin-right:0}.input-filter[_ngcontent-%COMP%]{background-color:hsla(0,0%,45.9%,.30980392156862746);display:flex;align-items:center;max-width:300px;width:100%;border-radius:2rem;padding:.5rem 1rem}.input-filter[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{margin-right:.5rem;color:grey}.input-filter[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{width:100%;color:grey;background-color:initial;height:1.5rem;font-size:1rem;font-weight:700;outline:none;border:none}.input-filter[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]::placeholder{color:grey}table[_ngcontent-%COMP%]{font-size:2rem}table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{text-transform:uppercase;font-weight:600}table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{font-size:15px}table[_ngcontent-%COMP%]   td.firstName[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   td.lastName[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   td.name[_ngcontent-%COMP%]{font-weight:700;text-transform:capitalize}table[_ngcontent-%COMP%]   .photo[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{border-radius:50%;object-fit:cover;display:flex;align-items:center;justify-content:center}table.tr-4[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{height:4rem;white-space:nowrap}table.td-p-1[_ngcontent-%COMP%]   td[_ngcontent-%COMP%], table.td-p-1[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{padding:0 1rem}.checkbox-options[_ngcontent-%COMP%]{display:flex;align-items:center}.checkbox-options[_ngcontent-%COMP%]   .label[_ngcontent-%COMP%]{margin-left:1rem;text-transform:uppercase}"],changeDetection:0}),e})(),$e=(()=>{class e{}return e.\u0275mod=d.Mb({type:e}),e.\u0275inj=d.Lb({factory:function(t){return new(t||e)},imports:[[n.c,a.l,o.b,r.c,s.b,m.b,l.b,b.d,z,R.b,B.d,A.b,i.j.forChild([{path:"",component:Ee,data:{title:"Tables"}}]),q.b,q.d]]}),e})()}}]);